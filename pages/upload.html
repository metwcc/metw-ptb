<div class="upload">
    <button class="center-x" onclick="uploadFile()">upload</button><a class="center-x"></a>
    <iframe></iframe>
</div>
<style>
    .upload > button { font-size: 150% }
    .upload > a { margin-top: 50px }
    .upload > iframe { width: 100%; height: calc(100% - 75px); margin-top: 75px; border: none }
</style>
<script>
    var uploadFile = async () => {
        var file = await filedialog('*'), filename = file.name, iframe = by.selector('.upload > iframe')
        file = await fileToBase64(file)
        upload(file, filename).then(([json, ok]) => {
            var response = ok ? cdnUrl + json : json
            if (ok) { iframe.src = by.selector('.upload > a').innerText = response; navigator.clipboard.writeText(response) }
            else alert.error(response)
        })
    }
</script>
